<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>RMP Helper</title>
    <style>
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin: 12px; width: 320px; max-height: 480px; }
      h1 { font-size: 16px; margin: 0 0 12px; font-weight: 600; }
      .prof-list { max-height: 220px; overflow-y: auto; margin-bottom: 12px; }
      .prof-row {
        padding: 8px 10px;
        border-radius: 8px;
        margin-bottom: 6px;
        background: #f8fafc;
        border: 1px solid #e2e8f0;
      }
      .prof-name { font-weight: 600; font-size: 13px; color: #1e293b; }
      .prof-course { font-size: 11px; color: #64748b; margin-top: 2px; }
      .prof-rating { font-size: 12px; color: #475569; margin-top: 4px; }
      .prof-rating .badge { display: inline-block; padding: 2px 6px; border-radius: 6px; background: #e0e7ff; color: #3730a3; font-weight: 500; }
      .prof-alt { margin-top: 6px; padding-top: 6px; border-top: 1px dashed #e2e8f0; font-size: 12px; color: #059669; }
      .btn-alt { padding: 4px 8px; font-size: 11px; background: #10b981; color: white; border: none; border-radius: 6px; cursor: pointer; margin-top: 6px; }
      .btn-alt:hover { background: #059669; }
      .btn-view-all { padding: 4px 8px; font-size: 11px; background: #1e40af; color: white; border: none; border-radius: 6px; cursor: pointer; margin-top: 6px; display: block; }
      .btn-view-all:hover { background: #1e3a8a; }
      .prompt-section { border-top: 1px solid #e2e8f0; padding-top: 12px; }
      .prompt-label { font-size: 12px; color: #64748b; margin-bottom: 6px; }
      .prompt-buttons { display: flex; gap: 8px; margin-top: 8px; flex-wrap: wrap; }
      .btn-reco { flex: 1; min-width: 120px; padding: 10px; background: #10b981; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 500; }
      .btn-reco:hover { background: #059669; }
      .btn-drawer { flex: 1; min-width: 120px; padding: 10px; background: #1f6feb; color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 500; }
      .btn-drawer:hover { background: #1d6ae5; }
      .reco-response { margin-top: 10px; padding: 14px; background: #f0fdf4; border: 1px solid #bbf7d0; border-radius: 8px; font-size: 14px; line-height: 1.6; color: #166534; white-space: pre-wrap; max-height: 280px; overflow-y: auto; min-height: 48px; }
      .reco-response.empty { background: #f8fafc; border-color: #e2e8f0; color: #64748b; }
      .empty-msg { color: #64748b; font-size: 13px; padding: 16px 0; text-align: center; }
      .popup-tip { font-size: 11px; color: #94a3b8; margin-top: 8px; }
      .options-link { display: block; margin-top: 12px; font-size: 12px; color: #64748b; text-align: center; }
    </style>
  </head>
  <body>
    <h1>RMP Helper</h1>
    <div class="prof-list" id="profList"></div>
    <div class="prompt-section">
      <div class="prompt-label">Recommendations</div>
      <div class="prompt-buttons">
        <button id="btnReco" class="btn-reco">Get recommendations</button>
        <button id="btnDrawer" class="btn-drawer">Open full drawer</button>
      </div>
      <div id="recoResponse" class="reco-response" style="display:none;"></div>
    </div>
    <a href="../options/options.html" target="_blank" class="options-link">Open options</a>
    <p class="popup-tip">Hover rating badges on the schedule page for full details.</p>
    <script type="module" src="./popup.js"></script>
  </body>
</html>
